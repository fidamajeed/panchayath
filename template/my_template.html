<!-- my_template.html -->

<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <title>Gram Panchayat and Wards</title>

    

    <link rel="stylesheet" href="{% static 'css/login.css'%}">
    <script src="{% static 'js/login.js'%}"></script>

    <meta charset="utf-8">
    <title>For the People</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.ico' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/lightbox/css/lightbox.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#grampanchayat_dropdown').change(function(){
                var selectedPanchayat = $(this).val();
                $.ajax({
                    url: '/fetch-wards/',
                    type: 'GET',
                    data: {
                        'selected_panchayat': selectedPanchayat,
                    },
                    success: function(data){
                        $('#ward_dropdown').empty(); // Clear existing options
                        $.each(data.wards, function(index, ward){
                            $('#ward_dropdown').append('<option value="' + ward + '">' + ward + '</option>');
                        });
                    }
                });
            });
        });
    </script>

    <style>
      .carousel-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 120%;
        z-index: -1; /* Ensure the carousel is behind other content */
      }
      body{
        background-image: url("{%  static 'img/footer.jpg' %}");
      }

      .owl-nav,.owl-prev,.owl-next,.owl-dots {
 
    opacity:0.01;
 
   
}
    </style>
</head>
<body>
   

      <!-- Carousel Start -->
      <div class="container-fluid p-0 pb-5 carousel-background">
        <div class="owl-carousel header-carousel position-relative">
            <div class="owl-carousel-item position-relative">
                <img style="width: 1436px;height: 676px;" class="img-fluid" src="{% static 'img/puthenvelikara.jpg'%}" alt="">
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-8 text-center">
                                <h5 class="text-white text-uppercase mb-3 animated slideInDown"></h5>
                                <h1 class="display-3 text-white animated slideInDown mb-4"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="owl-carousel-item position-relative">
                <img style="width: 1436px;height: 676px;" class="img-fluid" src="{% static 'img/KUNNUKARA.jpg'%}" alt="">
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-8 text-center">
                                <h5 class="text-white text-uppercase mb-3 animated slideInDown"></h5>
                                <h1 class="display-3 text-white animated slideInDown mb-4"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="owl-carousel-item position-relative">
                <img style="width: 1436px;height: 676px;" class="img-fluid" src="{% static 'img/Airport.jpg'%}" alt="">
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-8 text-center">
                                <h5 class="text-white text-uppercase mb-3 animated slideInDown"></h5>
                                <h1 class="display-3 text-white animated slideInDown mb-4"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="owl-carousel-item position-relative">
                <img style="width: 1436px;height: 676px;" class="img-fluid" src="{% static 'img/parakkadavu.jpg'%}" alt="">
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-8 text-center">
                                <h5 class="text-white text-uppercase mb-3 animated slideInDown"></h5>
                                <h1 class="display-3 text-white animated slideInDown mb-4"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="owl-carousel-item position-relative">
                <img style="width: 1436px;height: 676px;" class="img-fluid" src="{% static 'img/Chengamanad.jpg'%}" alt="">
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-8 text-center">
                                <h5 class="text-white text-uppercase mb-3 animated slideInDown"></h5>
                                <h1 class="display-3 text-white animated slideInDown mb-4"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Carousel End -->
    

  <!-- <h1>FORM STARTED</h1> -->
  
  <section class="container" style="opacity:0.9">
                
    <form action="{% url 'signup' %}" method="POST" class="form">
        {% csrf_token %}
        <h4>Registration Form</h4><br><br>

        <div class="column">
            <label for="grampanchayat_dropdown">Panchayath</label><br><br>
            <div class="select-box">
                <select id="grampanchayat_dropdown" name="panchayat"  style="width:250px;height:40px;background: #f2f2f2;">
                    <option value="None">Select</option>
                    {% for i in l %}
                        <option value="{{i}}">{{i}}</option>
                    {% endfor %}
                </select>
            </div><br>
  
          </div>

          <div class="column">
            <label for="ward_dropdown">ward</label><br><br>
            <div class="select-box">
                <select id="ward_dropdown" name="ward" style="width:250px;height:40px;background: #f2f2f2;">
                    <option value="None">Select</option>
                    <!-- Wards will be populated dynamically -->
                </select>
            </div><br>
  
          </div>

      <div class="input-box">
        <label>Name</label>
        <input type="text" placeholder="Enter your name" name="name" required />
      </div>

      <div class="input-box">
        <label>Email </label>
        <input type="text" placeholder="Enter email address" name="email" required />
      </div>

      <div class="column">
        <div class="input-box">
          <label>Phone</label>
          <input type="number" placeholder="Enter phone number" name="phone" pattern = "[6-9][0-9]{9}" required />
        </div>
      </div>

      <div class="input-box address">
        <label>Address</label>
        <textarea name="address" rows="4" cols="30" required></textarea>
        
      </div>
      
      <div class="input-box address">
        <label>Username</label>
        <input type="text" placeholder="Enter username" name="username" required />
      </div>

      <div class="input-box">
        <label>Password</label>
        <input type="password" placeholder="Enter your password"  id="password" oninput="validatePassword()" name="password" required />
      </div>
      <div id="password-strength"></div>
      <div class="input-box">
        <label>Repassword</label>
        <input type="password" placeholder="Enter your repassword" name="repassword" id="confirm-password" oninput="validatePassword()" required />
      </div>
      <div id="confirm-password-message"></div>
      {% for msg in messages %}
    {% if 'signup' in msg.tags %}
    <div class="group" style="text-align: center;">
      <label for="pass" class="label" style="color: red;">{{msg}}</label>
    </div>
    {% endif %}
    {% endfor %}
      <div class="field btn">
        <div class="btn-layer"></div>
        <input type="submit" value="Signup" id="submit-button" style="background-color: green; color: white;" disabled>
     </div>
     
    </form>
  </section>
 

 <!-- <h1>FORM ENDED</h1> -->
           
<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'lib/wow/wow.min.js' %}"></script>
<script src="{% static 'lib/easing/easing.min.js' %}"></script>
<script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
<script src="{% static 'lib/counterup/counterup.min.js' %}"></script>
<script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
<script src="{% static 'lib/isotope/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'lib/lightbox/js/lightbox.min.js' %}"></script>

<!-- Template Javascript -->
<script src="{% static 'js/main.js' %}"></script>

<script>
const loginText = document.querySelector(".title-text .login");
const loginForm = document.querySelector("form.login");
const loginBtn = document.querySelector("label.login");
const signupBtn = document.querySelector("label.signup");
const signupLink = document.querySelector("form .signup-link a");
signupBtn.onclick = (()=>{
  loginForm.style.marginLeft = "-50%";
  loginText.style.marginLeft = "-50%";
});
loginBtn.onclick = (()=>{
  loginForm.style.marginLeft = "0%";
  loginText.style.marginLeft = "0%";
});
signupLink.onclick = (()=>{
  signupBtn.click();
  return false;
});
</script>
<script>
  function validatePassword() {
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("confirm-password").value;
    var passwordStrength = document.getElementById("password-strength");
    var confirmPasswordMessage = document.getElementById("confirm-password-message");
    var submitButton = document.getElementById("submit-button");

    // Define your password conditions here
    var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

    // Validate password
    if (regex.test(password)) {
      passwordStrength.innerHTML = "Password is strong!";
      passwordStrength.style.color = "green";
      submitButton.disabled = false;

    } else {
      passwordStrength.innerHTML = "Password is weak. It should contain at least 8 characters, one uppercase letter, one lowercase letter, one digit, and one special character.";
      passwordStrength.style.color = "red";
      submitButton.disabled = true;
    }

    // Validate confirmation password
    if (confirmPassword === password) {
      confirmPasswordMessage.innerHTML = "Passwords match!";
      confirmPasswordMessage.style.color = "green";
    } else {
      confirmPasswordMessage.innerHTML = "Passwords do not match.";
      confirmPasswordMessage.style.color = "red";

    }
  }
</script>   




</body>
</html>

